<div>
  <h1>Setting Up the Selenium Server</h1>

  <p>
    When working with Protractor you will most likely use the Selenium Server.
    The server acts as proxy between your test script (written with the
    WebDriver API) and the browser driver (controlled by the WebDriver
    protocols).
  </p>

  <p>
    The server forwards commands from your script to the driver and returns
    responses from the driver to your script. The server can handle multiple
    scripts in different languages. The server can startup and manage multiple
    browsers in different versions and implementations.
  </p>

  <pre>[Test Scripts] &lt; ------------ &gt; [Selenium Server] &lt; ------------ &gt; [Browser Drivers]</pre>

  <p>
    The
    <a href="https://github.com/angular/protractor/blob/master/docs/referenceConf.js">reference
      config file</a> includes several options for the Selenium Server, which
    are explained in the sections below.
  </p>

  <h2>Standalone Selenium Server</h2>

  <p>
    To run the Selenium Server on your local machine, use the standalone
    Selenium Server.
  </p>

  <h4>JDK</h4>

  <p>
    To run a local Selenium Server, you will need to have the
    <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">
      Java Development Kit (JDK)</a> installed. Check this by running
    <code>java -version</code> from the command line.
  </p>

  <h4>Installing and Starting the Server</h4>

  <p>
    To install and start the standalone Selenium Server manually, use the
    webdriver-manager command line tool, which comes with Protractor.
  </p>

  <ol>
    <li>Run the update command: <code>webdriver-manager update</code> This will
      install the server and ChromeDriver.
    </li>
    <li>
      Run the start command: <code>webdriver-manager start</code> This will
      start the server. You will see a lot of output logs, starting with INFO.
      The last line will be 'Info - Started org.openqa.jetty.jetty.Server'.
    </li>
    <li>Leave the server running while you conduct your test sessions.</li>
  </ol>

  <h4>Starting the Server from a Test Script</h4>
  <p>
    To start the standalone Selenium Server from within your test script, set
    these options in your config file:
  </p>

  <ul>
    <li>
      <code>seleniumServerJar</code> - The location of the jar file for the
      standalone Selenium Server. Specify a file location.
    </li>
    <li>
      <code>seleniumPort</code> - The port to use to start the standalone
      Selenium Server. If not specified, defaults to 4444.
    </li>
    <li>
      <code>seleniumArgs</code> - Array of command line options to pass to
      the server. For a full list, start the server with the <code>-help</code>
      flag.
    </li>
  </ul>

  <h4>Connecting to a Running Server</h4>

  <p>
    To connect to a running instance of a standalone Selenium Server, set this
    option:
  </p>

  <ul>
    <li>
      <code>seleniumAddress</code> - Connect to a running instance of a
      standalone Selenium Server. The address will be a URL.
    </li>
  </ul>
  <p>
    Please note that if you set seleniumAddress, the settings for
    <code>seleniumServerJar</code>, <code>seleniumPort</code> and
    <code>seleniumArgs</code> will be ignored.
  </p>

  <h2>Remote Selenium Server</h2>

  <p>
    To run your tests against a remote Selenium Server, you will need an
    account with a service that hosts the server (and the browser drivers).
    Protractor has built in support for
    <a href="http://www.saucelabs.com">Sauce Labs</a>.
  </p>

  <p>
    In your config file, set these options:
  </p>

  <ul class="task-list">
    <li><code>sauceUser</code> - The username for your Sauce Labs account.</li>
    <li><code>sauceKey</code> - The key for your Sauce Labs account.</li>
  </ul>
  <p>
    Please note that if you set <code>sauceUser</code> and
    <code>sauceKey</code>, the settings for <code>seleniumServerJar</code>,
    <code>seleniumPort</code> and <code>seleniumArgs</code> will be ignored.
  </p>

  <h2>Selenium Server and the Chrome Browser</h2>

  <p>
    The Selenium Server is optional when you test against the Chrome browser.
    In your config file, you can set the chromeOnly option to true or false:
  </p>

  <ul>
    <li>
      <code>chromeOnly: false</code> - Your test script communicates with the
      Selenium Server (running locally or remotely). This is the default
      setting.
    </li>
    <li>
      <code>chromeOnly: true</code> - Your test script communicates directly
      with the ChromeDriver. The Selenium Server (running locally or remotely)
      will be ignored.
    </li>
  </ul>
  <p>
    The advantage of running only with Chrome is that your test scripts will
    start up and run faster. For more detailed information about chromeOnly,
    see the
    <a href="https://code.google.com/p/selenium/source/browse/javascript/node/selenium-webdriver/chrome.js">
      chrome.js source code</a>.
  </p>
</div>
