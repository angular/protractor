<div>
<h1>
  <a name="user-content-setting-up-the-browser" class="anchor" href="#setting-up-the-browser" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting Up the Browser
</h1>

<p>Protractor works with
  <a href="http://docs.seleniumhq.org/docs/03_webdriver.jsp">Selenium WebDriver</a>, a browser automation framework. Selenium WebDriver supports several browser implementations or
  <a href="http://docs.seleniumhq.org/docs/03_webdriver.jsp#selenium-webdriver-s-drivers">drivers</a> which are discussed below.
</p>

<h2>
  <a name="user-content-browser-support" class="anchor" href="#browser-support" aria-hidden="true"><span class="octicon octicon-link"></span></a>Browser Support
</h2>

<p>Protractor support for a particular browser is tied to the capabilities available in the driver for that browser. Notably, Protractor requires the driver to implement asynchronous script execution.</p>

<p>Protractor supports the two latest major versions of Chrome, Firefox, Safari, and IE.</p>

<table>
  <thead>
    <tr>
      <th>Driver</th>
      <th>Support</th>
      <th>Known Issues</th>
    </tr>
  </thead>
  <tbody>
  <tr>
    <td>ChromeDriver</td>
    <td>Yes</td>
    <td></td>
  </tr>
  <tr>
    <td>FirefoxDriver</td>
    <td>Yes</td>
    <td>
      <a href="https://github.com/angular/protractor/issues/480">#480</a> clicking options doesn't update the model
    </td>
  </tr>
  <tr>
    <td>SafariDriver</td>
    <td>Yes</td>
    <td>
      <a href="https://github.com/angular/protractor/issues/481">#481</a> minus key doesn't work, SafariDriver does not support modals,
      <a href="https://github.com/angular/protractor/issues/1051">#1051</a> We see occasional page loading timeouts
    </td>
  </tr>
  <tr>
    <td>IEDriver</td>
    <td>Yes</td>
    <td>
      <a href="https://github.com/angular/protractor/issues/778">#778</a>, can be slow,
      <a href="https://github.com/angular/protractor/issues/1052">#1052</a> often times out waiting for page load
    </td>
  </tr>
  <tr>
    <td>OperaDriver</td>
    <td>No</td>
    <td></td>
  </tr>
  <tr>
    <td>ios-Driver</td>
    <td>No</td>
    <td></td>
  </tr>
  <tr>
    <td>Appium - iOS/Safari</td>
    <td>Yes*</td>
    <td>drag and drop not supported (session/:sessionid/buttondown unimplemented)</td>
  </tr>
  <tr>
    <td>Appium - Android/Chrome</td>
    <td>Yes*</td>
    <td></td>
  </tr>
  <tr>
    <td>Selendroid</td>
    <td>Yes*</td>
    <td></td>
  </tr>
  </tbody>
</table>
<ul class="task-list">
  <li>These drivers are not yet in the Protractor smoke tests.</li>
</ul>
<h2>
  <a name="user-content-configuring-browsers" class="anchor" href="#configuring-browsers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuring Browsers
</h2>

<p>In your Protractor config file (see
  <a href="/angular/protractor/blob/master/docs/referenceConf.js">referenceConf.js</a>), all browser setup is done within the
  <code>capabilities</code> object. This object is passed directly to the WebDriver builder (<a href="https://code.google.com/p/selenium/source/browse/javascript/webdriver/builder.js">builder.js</a>).
</p>

<p>See
  <a href="https://code.google.com/p/selenium/wiki/DesiredCapabilities">DesiredCapabilities</a> for full information on which properties are available.
</p>

<h2>
  <a name="user-content-using-browsers-other-than-chrome" class="anchor" href="#using-browsers-other-than-chrome" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using Browsers Other Than Chrome
</h2>

<p>To use a browser other than Chrome, simply set a different browser name in the capabilities object.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">capabilities</span><span class="o">:</span> <span class="p">{</span>
  <span class="s1">'browserName'</span><span class="o">:</span> <span class="s1">'firefox'</span>
<span class="p">}</span>
</pre>
</div>

<p>You may need to install a separate binary to run another browser, such as IE or Android. For more information, see
  <a href="http://docs.seleniumhq.org/download/">SeleniumHQ Downloads</a>.</p>

<h2>
  <a name="user-content-adding-chrome-specific-options" class="anchor" href="#adding-chrome-specific-options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Adding Chrome-Specific Options
</h2>

<p>Chrome options are nested in the
  <code>chromeOptions</code> object. A full list of options is at the
  <a href="https://sites.google.com/a/chromium.org/chromedriver/capabilities">ChromeDriver</a> site. For example, to show an FPS counter in the upper right, your configuration would look like this:
</p>

<div class="highlight highlight-javascript"><pre><span class="nx">capabilities</span><span class="o">:</span> <span class="p">{</span>
  <span class="s1">'browserName'</span><span class="o">:</span> <span class="s1">'chrome'</span><span class="p">,</span>
  <span class="s1">'chromeOptions'</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">'args'</span><span class="o">:</span> <span class="p">[</span><span class="s1">'show-fps-counter=true'</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">},</span>
</pre>
</div>

<p>If running with <code>chromeOnly</code> and
  <code>chromeOptions</code> together, chromeOptions.args and chromeOptions.extensions are required due to
  <a href="https://code.google.com/p/selenium/issues/detail?id=6627&amp;thanks=6627&amp;ts=1385488060">Issue 6627</a> of selenium-webdriver currently(@2.37.0). So in order to avoid the issue, you may simply set them(or one of them) to an empty array.
</p>

<h2>
  <a name="user-content-testing-against-multiple-browsers" class="anchor" href="#testing-against-multiple-browsers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Testing Against Multiple Browsers
</h2>

<p>If you would like to test against multiple browsers, use the
  <code>multiCapabilities</code> configuration option.</p>

<div class="highlight highlight-javascript"><pre><span class="nx">multiCapabilities</span><span class="o">:</span> <span class="p">[{</span>
  <span class="s1">'browserName'</span><span class="o">:</span> <span class="s1">'firefox'</span>
<span class="p">},</span> <span class="p">{</span>
  <span class="s1">'browserName'</span><span class="o">:</span> <span class="s1">'chrome'</span>
<span class="p">}]</span>
</pre>
</div>

<p>Protractor will run tests in parallel against each set of capabilities. Please note that if
  <code>multiCapabilities</code> is defined, the runner will ignore the
  <code>capabilities</code> configuration.</p>

<h2>
  <a name="user-content-setting-up-protractor-with-appium---androidchrome" class="anchor" href="#setting-up-protractor-with-appium---androidchrome" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting Up Protractor with Appium - Android/Chrome
</h2>

<h6>
  <a name="user-content-setup" class="anchor" href="#setup" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setup
</h6>

<ul class="task-list">
  <li> Install Java SDK (&gt;1.6) and configure JAVA_HOME (Important: make sure it's not pointing to JRE).</li>
  <li> Follow
    <a href="http://spring.io/guides/gs/android/">http://spring.io/guides/gs/android/</a> to install and set up Android developer environment. Do not set up Android Virtual Device as instructed here.
  </li>
  <li> From commandline,
    <code>android avd</code> and then install an AVD, taking note of the following:

    <ul class="task-list">
      <li>Start with an ARM ABI</li>
      <li>Enable hardware keyboard: <code>hw.keyboard=yes</code>
      </li>
      <li>Enable hardware battery: <code>hw.battery=yes</code>
      </li>
      <li>Use the Host GPU</li>
      <li>Here's an example:</li>
    </ul>
  </li>
</ul>
<p>Phone:</p>

<pre lang="shell"><code>&gt; android list avd
  Available Android Virtual Devices:
  Name: LatestAndroid
  Device: Nexus 5 (Google)
  Path: /Users/hankduan/.android/avd/LatestAndroid.avd
  Target: Android 4.4.2 (API level 19)
  Tag/ABI: default/armeabi-v7a
  Skin: HVGA
</code></pre>

<p>Tablet:</p>

<pre lang="shell"><code>&gt; android list avd
  Available Android Virtual Devices:
  Name: LatestTablet
  Device: Nexus 10 (Google)
  Path: /Users/hankduan/.android/avd/LatestTablet.avd
  Target: Android 4.4.2 (API level 19)
  Tag/ABI: default/armeabi-v7a
  Skin: WXGA800-7in
</code></pre>

<ul class="task-list">
  <li> Follow
    <a href="http://ant.apache.org/manual/index.html">http://ant.apache.org/manual/index.html</a> to install ant and set up the environment.
  </li>
  <li> Follow
    <a href="http://maven.apache.org/download.cgi">http://maven.apache.org/download.cgi</a> to install mvn (Maven) and set up the environment.

    <ul class="task-list">
      <li>NOTE: Appium suggests installing Maven 3.0.5 (I haven't tried later versions, but 3.0.5 works for sure).</li>
    </ul>
  </li>
  <li> Install Appium using node
    <code>npm install -g appium</code>. Make sure you don't install as sudo or else Appium will complain.

    <ul class="task-list">
      <li>You can do this either if you installed node without sudo, or you can chown the global node_modules lib and bin directories.</li>
    </ul>
  </li>
  <li> Start emulator manually (at least the first time) and unlock screen.</li>
</ul><pre lang="shell"><code>&gt; emulator -avd LatestAndroid
</code></pre>

<ul class="task-list">
  <li>Your devices should show up under adb now:</li>
</ul><pre lang="shell"><code>&gt; adb devices
  List of devices attached
  emulator-5554 device
</code></pre>

<ul class="task-list">
  <li> If the AVD does not have chrome (and it probably won't if it just created), you need to install it:

    <ul class="task-list">
      <li>You can get v34.0.1847.114 from
        <a href="http://www.apk4fun.com/apk/1192/">http://www.apk4fun.com/apk/1192/</a>
      </li>
      <li>Once you download the apk, install to your AVD as such:</li>
    </ul>
  </li>
</ul><pre lang="shell"><code>&gt; adb install ~/Desktop/chrome-browser-google-34.0.1847.114-www.apk4fun.com.apk
  2323 KB/s (30024100 bytes in 12.617s)
  Success
</code></pre>

<ul class="task-list">
  <li>If you check your AVD now, it should have Chrome.</li>
</ul>
<h6>
  <a name="user-content-running-tests" class="anchor" href="#running-tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running Tests
</h6>

<ul class="task-list">
  <li> Ensure app is running if testing local app (Skip if testing public website):</li>
</ul><pre lang="shell"><code>&gt; ./scripts/web-server.js
  Starting express web server in /workspace/protractor/testapp on port 8000
</code></pre>

<ul class="task-list">
  <li> If your AVD isn't already started from the setup, start it now:</li>
</ul><pre lang="shell"><code>&gt; emulator -avd LatestAndroid
</code></pre>

<ul class="task-list">
  <li> Start Appium:</li>
</ul><pre lang="shell"><code>&gt; appium
  info: Welcome to Appium v1.0.0-beta.1 (REV 6fcf54391fb06bb5fb03dfcf1582c84a1d9838b6)
  info: Appium REST http interface listener started on 0.0.0.0:4723
  info: socket.io started
</code></pre>

<p><em>Note Appium listens to port 4723 instead of 4444</em></p>

<ul class="task-list">
  <li> Configure protractor:</li>
</ul>
<div class="highlight highlight-javascript"><pre><span class="nx">exports</span><span class="p">.</span><span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">seleniumAddress</span><span class="o">:</span> <span class="s1">'http://localhost:4723/wd/hub'</span><span class="p">,</span>

  <span class="nx">specs</span><span class="o">:</span> <span class="p">[</span>
    <span class="s1">'basic/*_spec.js'</span>
  <span class="p">],</span>

  <span class="nx">chromeOnly</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>

  <span class="nx">capabilities</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">device</span><span class="o">:</span> <span class="s1">'android'</span><span class="p">,</span>
    <span class="s1">'browserName'</span><span class="o">:</span> <span class="s1">''</span><span class="p">,</span>
    <span class="c1">//'deviceName' : 'emulator-5554',</span>
    <span class="s1">'app'</span> <span class="o">:</span> <span class="s1">'chrome'</span>
  <span class="p">},</span>

  <span class="nx">baseUrl</span><span class="o">:</span> <span class="s1">'http://10.0.2.2:'</span> <span class="o">+</span> <span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">HTTP_PORT</span> <span class="o">||</span> <span class="s1">'8000'</span><span class="p">),</span>
<span class="p">};</span>
</pre>
</div>

<p><em>Note the following:</em></p>

<ul class="task-list">
  <li>under capabilities: browserName is '', device is 'android', and app is 'chrome'<br>
  </li>
  <li>baseUrl is 10.0.2.2 instead of localhost because it is used to access the localhost of the host machine in the android emulator<br>
  </li>
  <li>selenium address is using port 4723</li>
</ul>
<h2>
  <a name="user-content-setting-up-protractor-with-appium---iossafari" class="anchor" href="#setting-up-protractor-with-appium---iossafari" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting Up Protractor with Appium - iOS/Safari
</h2>

<h6>
  <a name="user-content-setup-1" class="anchor" href="#setup-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setup
</h6>

<ul class="task-list">
  <li> Install Java SDK (&gt;1.6) and configure JAVA_HOME (Important: make sure it's not pointing to JRE).</li>
  <li> Follow
    <a href="http://ant.apache.org/manual/index.html">http://ant.apache.org/manual/index.html</a> to install ant and set up the environment.
  </li>
  <li> Follow
    <a href="http://maven.apache.org/download.cgi">http://maven.apache.org/download.cgi</a> to install mvn (Maven) and set up the environment.

    <ul class="task-list">
      <li>NOTE: Appium suggests installing Maven 3.0.5 (I haven't tried later versions, but 3.0.5 works for sure).</li>
    </ul>
  </li>
  <li> Install Appium using node
    <code>npm install -g appium</code>. Make sure you don't install as sudo or else Appium will complain.

    <ul class="task-list">
      <li>You can do this either if you installed node without sudo, or you can chown the global node_modules lib and bin directories.</li>
    </ul>
  </li>
</ul>
<h6>
  <a name="user-content-running-tests-1" class="anchor" href="#running-tests-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running Tests
</h6>

<ul class="task-list">
  <li> Ensure app is running if testing local app (Skip if testing public website):</li>
</ul><pre lang="shell"><code>&gt; ./scripts/web-server.js
  Starting express web server in /workspace/protractor/testapp on port 8000
</code></pre>

<ul class="task-list">
  <li> Start Appium:</li>
</ul><pre lang="shell"><code>&gt; appium
  info: Welcome to Appium v1.0.0-beta.1 (REV 6fcf54391fb06bb5fb03dfcf1582c84a1d9838b6)
  info: Appium REST http interface listener started on 0.0.0.0:4723
  info: socket.io started
</code></pre>

<p><em>Note: Appium listens to port 4723 instead of 4444.</em></p>

<ul class="task-list">
  <li> Configure protractor:</li>
</ul>
<p>iPhone:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">exports</span><span class="p">.</span><span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">seleniumAddress</span><span class="o">:</span> <span class="s1">'http://localhost:4723/wd/hub'</span><span class="p">,</span>

  <span class="nx">specs</span><span class="o">:</span> <span class="p">[</span>
    <span class="s1">'basic/*_spec.js'</span>
  <span class="p">],</span>

  <span class="nx">chromeOnly</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>

  <span class="nx">capabilities</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">browserName</span><span class="o">:</span> <span class="s1">''</span><span class="p">,</span>
    <span class="nx">device</span><span class="o">:</span> <span class="s1">'iPhone'</span><span class="p">,</span>
    <span class="nx">app</span><span class="o">:</span> <span class="s1">'safari'</span>
  <span class="p">},</span>

  <span class="nx">baseUrl</span><span class="o">:</span> <span class="s1">'http://localhost:'</span> <span class="o">+</span> <span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">HTTP_PORT</span> <span class="o">||</span> <span class="s1">'8000'</span><span class="p">)</span>
<span class="p">};</span>
</pre>
</div>

<p>iPad:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">exports</span><span class="p">.</span><span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">seleniumAddress</span><span class="o">:</span> <span class="s1">'http://localhost:4723/wd/hub'</span><span class="p">,</span>

  <span class="nx">specs</span><span class="o">:</span> <span class="p">[</span>
    <span class="s1">'basic/*_spec.js'</span>
  <span class="p">],</span>

  <span class="nx">chromeOnly</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>

  <span class="nx">capabilities</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">browserName</span><span class="o">:</span> <span class="s1">''</span><span class="p">,</span>
    <span class="nx">device</span><span class="o">:</span> <span class="s1">'iPad'</span><span class="p">,</span>
    <span class="nx">app</span><span class="o">:</span> <span class="s1">'safari'</span><span class="p">,</span>
    <span class="nx">deviceName</span><span class="o">:</span> <span class="s1">'iPad Simulator'</span>
  <span class="p">},</span>

  <span class="nx">baseUrl</span><span class="o">:</span> <span class="s1">'http://localhost:'</span> <span class="o">+</span> <span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">HTTP_PORT</span> <span class="o">||</span> <span class="s1">'8000'</span><span class="p">)</span>
<span class="p">};</span>

</pre>
</div>

<p><em>Note the following:</em></p>

<ul class="task-list">
  <li>note capabilities</li>
  <li>baseUrl is localhost (not 10.0.2.2)</li>
  <li>selenium address is using port 4723</li>
</ul>
<h2>
  <a name="user-content-setting-up-protractor-with-selendroid" class="anchor" href="#setting-up-protractor-with-selendroid" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting Up Protractor with Selendroid
</h2>

<h6>
  <a name="user-content-setup-2" class="anchor" href="#setup-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setup
</h6>

<ul class="task-list">
  <li> Install Java SDK (&gt;1.6) and configure JAVA_HOME (Important: make sure it's not pointing to JRE).</li>
  <li> Follow
    <a href="http://spring.io/guides/gs/android/">http://spring.io/guides/gs/android/</a> to install and set up Android developer environment. Do not set up Android Virtual Device as instructed here.
  </li>
  <li> From commandline, 'android avd' and then follow Selendroid's recommendation (<a href="http://selendroid.io/setup.html#androidDevices">http://selendroid.io/setup.html#androidDevices</a>). Take note of the emulator accelerator. Here's an example:
  </li>
</ul><pre lang="shell"><code>&gt; android list avd
  Available Android Virtual Devices:
  Name: myAvd
  Device: Nexus 5 (Google)
  Path: /Users/hankduan/.android/avd/Hank.avd
  Target: Android 4.4.2 (API level 19)
  Tag/ABI: default/x86
  Skin: WVGA800
</code></pre>

<h6>
  <a name="user-content-running-tests-2" class="anchor" href="#running-tests-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running Tests
</h6>

<ul class="task-list">
  <li> Ensure app is running if testing local app (Skip if testing public website):</li>
</ul><pre lang="shell"><code>&gt; ./scripts/web-server.js
  Starting express web server in /workspace/protractor/testapp on port 8000
</code></pre>

<ul class="task-list">
  <li> Start emulator manually (at least the first time):</li>
</ul><pre lang="shell"><code>&gt; emulator -avd myAvd
  HAX is working and emulator runs in fast virt mode
</code></pre>

<p>
  <em>Note: The last line that tells you the emulator accelerator is running.</em>
</p>

<ul class="task-list">
  <li> Start selendroid:</li>
</ul><pre lang="shell"><code>&gt; java -jar selendroid-standalone-0.9.0-with-dependencies.jar
  ...
</code></pre>

<ul class="task-list">
  <li> Once selendroid is started, you should be able to go to "http://localhost:4444/wd/hub/status" and see your device there:</li>
</ul>
<div class="highlight highlight-javascript"><pre><span class="p">{</span><span class="s2">"value"</span><span class="o">:</span><span class="p">{</span><span class="s2">"os"</span><span class="o">:</span><span class="p">{</span><span class="s2">"name"</span><span class="o">:</span><span class="s2">"Mac OS X"</span><span class="p">,</span><span class="s2">"arch"</span><span class="o">:</span><span class="s2">"x86_64"</span><span class="p">,</span><span class="s2">"version"</span><span class="o">:</span><span class="s2">"10.9.2"</span><span class="p">},</span><span class="s2">"build"</span><span class="o">:</span><span class="p">{</span><span class="s2">"browserName"</span><span class="o">:</span><span class="s2">"selendroid"</span><span class="p">,</span><span class="s2">"version"</span><span class="o">:</span><span class="s2">"0.9.0"</span><span class="p">},</span><span class="s2">"supportedDevices"</span><span class="o">:</span><span class="p">[{</span><span class="s2">"emulator"</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span><span class="s2">"screenSize"</span><span class="o">:</span><span class="s2">"WVGA800"</span><span class="p">,</span><span class="s2">"avdName"</span><span class="o">:</span><span class="s2">"Hank"</span><span class="p">,</span><span class="s2">"androidTarget"</span><span class="o">:</span><span class="s2">"ANDROID19"</span><span class="p">}],</span><span class="s2">"supportedApps"</span><span class="o">:</span><span class="p">[{</span><span class="s2">"mainActivity"</span><span class="o">:</span><span class="s2">"io.selendroid.androiddriver.WebViewActivity"</span><span class="p">,</span><span class="s2">"appId"</span><span class="o">:</span><span class="s2">"io.selendroid.androiddriver:0.9.0"</span><span class="p">,</span><span class="s2">"basePackage"</span><span class="o">:</span><span class="s2">"io.selendroid.androiddriver"</span><span class="p">}]},</span><span class="s2">"status"</span><span class="o">:</span><span class="mi">0</span><span class="p">}</span>
</pre>
</div>

<ul class="task-list">
  <li> Configure protractor:</li>
</ul>
<div class="highlight highlight-javascript"><pre><span class="nx">exports</span><span class="p">.</span><span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">seleniumAddress</span><span class="o">:</span> <span class="s1">'http://localhost:4444/wd/hub'</span><span class="p">,</span>

  <span class="nx">specs</span><span class="o">:</span> <span class="p">[</span>
    <span class="s1">'basic/*_spec.js'</span>
  <span class="p">],</span>

  <span class="nx">chromeOnly</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>

  <span class="nx">capabilities</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">'browserName'</span><span class="o">:</span> <span class="s1">'android'</span>
  <span class="p">},</span>

  <span class="nx">baseUrl</span><span class="o">:</span> <span class="s1">'http://10.0.2.2:'</span> <span class="o">+</span> <span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">HTTP_PORT</span> <span class="o">||</span> <span class="s1">'8000'</span><span class="p">)</span>
<span class="p">};</span>
</pre>
</div>

<p><em>Note the following:</em></p>

<ul class="task-list">
  <li>browserName is 'android'</li>
  <li>baseUrl is 10.0.2.2 instead of localhost because it is used to access the localhost of the host machine in the android emulator</li>
</ul>
<h2>
  <a name="user-content-setting-up-phantomjs" class="anchor" href="#setting-up-phantomjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting up PhantomJS
</h2>

<p>In order to test locally with
  <a href="http://phantomjs.org/">PhantomJS</a>, you'll need to either have it installed globally, or relative to your project. For global install see the
  <a href="http://phantomjs.org/download.html">PhantomJS download page</a>. For relative install run:
  <code>npm install --save-dev phantomjs</code>.</p>

<p>Add phantomjs to the driver capabilities, and include a path to the binary if using local installation:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">capabilities</span><span class="o">:</span> <span class="p">{</span>
  <span class="s1">'browserName'</span><span class="o">:</span> <span class="s1">'phantomjs'</span><span class="p">,</span>

  <span class="cm">/* </span>
<span class="cm">   * Can be used to specify the phantomjs binary path.</span>
<span class="cm">   * This can generally be ommitted if you installed phantomjs globally.</span>
<span class="cm">   */</span>
  <span class="s1">'phantomjs.binary.path'</span><span class="o">:</span><span class="s1">'./node_modules/phantomjs/bin/phantomjs'</span><span class="p">,</span>

  <span class="cm">/*</span>
<span class="cm">   * Command line arugments to pass to phantomjs. </span>
<span class="cm">   * Can be ommitted if no arguments need to be passed. </span>
<span class="cm">   * Acceptable cli arugments: https://github.com/ariya/phantomjs/wiki/API-Reference#wiki-command-line-options</span>
<span class="cm">   */</span>
  <span class="s1">'phantomjs.cli.args'</span><span class="o">:</span><span class="p">[</span><span class="s1">'--logfile=PATH'</span><span class="p">,</span> <span class="s1">'--loglevel=DEBUG'</span><span class="p">]</span>
<span class="p">}</span>
</pre>
</div>
</div>
